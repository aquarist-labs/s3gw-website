"use strict";(self.webpackChunkk_3_s_website=self.webpackChunkk_3_s_website||[]).push([[3104],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=p(n),g=o,m=u["".concat(l,".").concat(g)]||u[g]||h[g]||r;return n?a.createElement(m,s(s({ref:t},c),{},{components:n})):a.createElement(m,s({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,s=new Array(r);s[0]=g;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[u]="string"==typeof e?e:o,s[1]=i;for(var p=2;p<r;p++)s[p]=n[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},6627:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>p});var a=n(7462),o=(n(7294),n(3905));const r={title:"Epinio meets s3gw",description:"This blog post explains how to set up the s3gw object service with the Epinio project",slug:"epinio-meets-s3gw",authors:[{name:"The s3gw team"}],tags:["blog","s3gw","epinio"],hide_table_of_contents:!1},s=void 0,i={permalink:"/blog/epinio-meets-s3gw",source:"@site/blog/2023-03-01-epinio-meets-s3gw.md",title:"Epinio meets s3gw",description:"This blog post explains how to set up the s3gw object service with the Epinio project",date:"2023-03-01T00:00:00.000Z",formattedDate:"March 1, 2023",tags:[{label:"blog",permalink:"/blog/tags/blog"},{label:"s3gw",permalink:"/blog/tags/s-3-gw"},{label:"epinio",permalink:"/blog/tags/epinio"}],readingTime:2.47,hasTruncateMarker:!0,authors:[{name:"The s3gw team"}],frontMatter:{title:"Epinio meets s3gw",description:"This blog post explains how to set up the s3gw object service with the Epinio project",slug:"epinio-meets-s3gw",authors:[{name:"The s3gw team"}],tags:["blog","s3gw","epinio"],hide_table_of_contents:!1},prevItem:{title:"Release Notes - v0.13.0",permalink:"/blog/release-notes-v0.13"},nextItem:{title:"Release Notes - v0.12.0",permalink:"/blog/release-notes-v0.12"}},l={authorsImageUrls:[void 0]},p=[{value:"Call to action",id:"call-to-action",level:2}],c={toc:p},u="wrapper";function h(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Since the very first version,\xa0",(0,o.kt)("a",{parentName:"p",href:"https://epinio.io/"},"Epinio"),"\xa0has made use of an internal S3 endpoint to store the user's projects in the form of aggregated tarballs."),(0,o.kt)("p",null,"Those objects are then downloaded and staged by the internal engine's pipeline and, finally, they are deployed into the Kubernetes cluster as consumable applications.\xa0"),(0,o.kt)("p",null,"Epinio makes use of S3 as an internal private service. In this scenario, S3 can be thought of as an internal ephemeral cache with the purpose of storing temporary objects. For these needs, advanced redundancy measures are not necessary.\xa0Should the S3 backend experience a failure of any kind, software, or hardware; there would be no data loss, since Epinio has the ability to reconstruct the data of a project at any time.\xa0"),(0,o.kt)("p",null,"Prior to 1.7.0, Epinio could use only\xa0",(0,o.kt)("a",{parentName:"p",href:"https://min.io/"},"Minio"),"\xa0as S3 service. Starting from that version, we have since enabled the chart to also use the S3 Gateway (s3gw) project.\xa0"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://s3gw.io/"},"s3gw"),"\xa0is a lightweight s3-compatible service that can be backed by any PVC within a Kubernetes environment, with a preference for\xa0",(0,o.kt)("a",{parentName:"p",href:"https://longhorn.io/"},"Longhorn"),"\xa0as the backing service. As said before, since we do not need an advanced redundancy strategy with Epinio, we can safely rely on a PVC provided by the default storage class deployed on the cluster.\xa0"),(0,o.kt)("p",null,"If you are installing Epinio through the Rancher UI, enable the\xa0",(0,o.kt)("em",{parentName:"p"},"Customize Helm options before install"),"\xa0checkbox:\xa0"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://www.suse.com/c/wp-content/uploads/2023/02/epinio_s3gw_1-1024x732.png",alt:"Screenshot 1"})),(0,o.kt)("p",null,"In the next page, click on the\xa0",(0,o.kt)("em",{parentName:"p"},"S3 storage"),"\xa0section and disable the\xa0",(0,o.kt)("em",{parentName:"p"},"Install Minio\xa0"),"checkbox",(0,o.kt)("em",{parentName:"p"},"."),"\\\nYou can now enable the\xa0",(0,o.kt)("em",{parentName:"p"},"Install s3gw"),"\xa0checkbox.\xa0"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://www.suse.com/c/wp-content/uploads/2023/02/epinio_s3gw_2-1024x732.png",alt:"Screenshot 1"})),(0,o.kt)("p",null,"This is the simplest way to make Epinio work with s3gw.\xa0"),(0,o.kt)("p",null,"For a more advanced customization, you can edit the Epinio chart's values.yaml file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"s3gw:\xa0\n\n\xa0 enabled: false\xa0\n\n\xa0 ingress:\xa0\n\n\xa0\xa0\xa0 enabled: false\xa0\n\n\xa0 serviceName: s3gw\xa0\n\n\xa0 storageClass:\xa0\n\n\xa0\xa0\xa0 create: false\xa0\n\n\xa0\xa0\xa0 name: ''\xa0\n\n\xa0 storageSize: 2Gi\xa0\n\n\xa0 ui:\xa0\n\n\xa0\xa0\xa0 enabled: false\xa0\n\n\xa0 useExistingSecret: true\xa0\n")),(0,o.kt)("p",null,"If you want, you can, for example, change the\xa0s3gw.storageClass.name\xa0used by s3gw to create its PVC to persist the data.\xa0Leaving this field empty makes the s3gw use the default storage class in the cluster.\xa0Furthermore, you can set the\xa0s3gw.storageSize\xa0value to the appropriate size based on your need.\xa0"),(0,o.kt)("p",null,"Embedding s3gw inside Epinio has been beneficial for both projects because it significantly evolved the respective ability to integrate with other technologies."),(0,o.kt)("p",null,"Thanks to this, s3gw has made huge progress in areas such as TLS management and chart consistency."),(0,o.kt)("p",null,"s3gw was born in 2022 and that year we defined the project's foundations. As for 2023, the team has ambitious plans that will bring the project to a brand-new level. We are already confident the tool is good enough to start integrating with vibrant projects like Epinio and are planning to make s3gw even simpler to integrate in the future.\xa0"),(0,o.kt)("p",null,"Stay tuned!"),(0,o.kt)("h2",{id:"call-to-action"},"Call to action"),(0,o.kt)("p",null,"We would love to hear from you about what you'd like to see on our roadmap. What would enable you best to use s3gw in your environment?\xa0"),(0,o.kt)("p",null,"Reach out to us at\xa0",(0,o.kt)("a",{parentName:"p",href:"mailto:s3gw@suse.com"},"s3gw@suse.com"),"\xa0or our\xa0",(0,o.kt)("a",{parentName:"p",href:"https://aquaristlabs.slack.com/archives/C03RFG0BES0"},"Slack channel"),". You can also join\xa0",(0,o.kt)("a",{parentName:"p",href:"https://lists.suse.com/mailman/listinfo/s3gw"},"our mailing list"),"\xa0or have a look at\xa0our\xa0",(0,o.kt)("a",{parentName:"p",href:"https://github.com/aquarist-labs/s3gw"},"GitHub repository"),"\xa0-- feature requests are welcome!\xa0\ud83d\ude42"))}h.isMDXComponent=!0}}]);